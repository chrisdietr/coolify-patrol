# Coolify Patrol Environment Variables Example
# Copy these to your .env file or set directly in Coolify UI

# Required: Coolify connection
COOLIFY_URL=http://localhost:8000
COOLIFY_TOKEN=your-api-token-here

# Auto-discover all applications (recommended for new users)
PATROL_AUTO_DISCOVER=true

# OR specify specific applications (alternative to auto-discovery)
# Format: "name:uuid:image[:policy[:pin]]" separated by semicolons
# PATROL_APPS="n8n:abc-123:n8nio/n8n:auto-minor;postgres:def-456:postgres:auto-patch:17;redis:ghi-789:redis"

# Optional settings (will use defaults if not specified)

# Scheduling (choose one - PATROL_SCHEDULE takes priority)
PATROL_SCHEDULE="*/15 * * * *"   # Cron schedule: every 15 minutes
# PATROL_SCHEDULE="0 3 * * *"    # Daily at 3 AM
# PATROL_SCHEDULE="0 */6 * * *"  # Every 6 hours
# PATROL_INTERVAL=15m            # Simple interval (used if no schedule set)

PATROL_POLICY=auto-patch         # Default update policy
PATROL_COOLDOWN=1h               # Wait time between updates per app
PATROL_EXCLUDE_PATTERNS="-alpha,-beta,-rc,-dev,-nightly"  # Skip prerelease tags

# Runtime options
PATROL_DRY_RUN=false            # Set to 'true' to log without making changes
PATROL_PORT=8080                # HTTP server port for health checks

# Update Policies:
# - auto-patch: Only patch updates (1.2.3 → 1.2.4) - SAFEST
# - auto-minor: Patch and minor updates (1.2.x → 1.3.0)  
# - auto-all: All updates including major (use with caution)
# - notify-only: Log available updates but don't apply

# Pin Examples:
# - Pin PostgreSQL to major version 17: pin "17" (17.1 → 17.2 ✅, 17.x → 18.x ❌)
# - Pin Node.js to major version 20: pin "20" (20.1 → 20.2 ✅, 20.x → 21.x ❌)